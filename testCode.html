<!DOCTYPE html>
<html>

<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
        crossorigin="anonymous"></script>
</head>
<Style>
    /* Google Fonts */

    @import url(https://fonts.googleapis.com/css?family=Anonymous+Pro);


    body {
        height: calc(100vh - 8em);
        /* padding: 4em; */
        /* color: rgba(255, 255, 255, .75); */
        font-family: 'Anonymous Pro', monospace;
        /* background-color: rgb(25, 25, 25); */
    }

    p {
        margin: 0px;
    }
</Style>
    margin-top: -5px;
    margin-left: 8px;
<body>
    <button id='btnRun'>Run</button>
    <div id='p1'style='position: absolute; background: white;z-index: 10;;' >
        <p>&lt;!DOCTYPE html&gt; </p>
        <p>&lt;html&gt; </p>
        <p>&lt;head&gt; </p>
        <p>&lt;title&gt;tags - Display HTML code in HTML - Stack Overflow
            <p>&lt;/title&gt; </p>
            <p>&lt;/haed&gt; </p>
            <p>&lt;body&gt; </p>
            <p>&lt;div class="-actions"&gt; </p>
            <p>&lt;a href="/users/4689693/mohamed-hamdy" class="my-profile js-gps-track" data-gps-track="profile_summary.click()"&gt;
            </p>
            <p>&lt;div class="gravatar-wrapper-24" title="Mohamed Hamdy"&gt;
                <p>&lt;img src="https://i.stack.imgur.com/I9LFK.jpg?s=48&amp;g=1" alt="" width="24" height="24" class="-avatar
                    js-avatar-me"&gt;
                    <p>&lt;/div&gt; </p>
                    <p>&lt;div class="-rep js-header-rep" title="your reputation: 11"&gt;11
                        <p>&lt;/div&gt; </p>
                        <p>&lt;div class="-badges"&gt; </p>
                        <p>&lt;span title="2 bronze badges"&gt;
                            <p>&lt;span class="badge3"&gt;&#9679;
                                <p>&lt;/span&gt;
                                    <p>&lt;span class="badgecount"&gt;2
                                        <p>&lt;/span&gt;
                                            <p>&lt;/span&gt; </p>
                                            <p>&lt;/div&gt; </p> نصيغ 
                                            <p>&lt;/a&gt; </p>
                                            <p>&lt;ul&gt; </p>
                                            <p>&lt;li&gt; </p>
                                            <p>&lt;a href="/tour" class="js-gps-track" data-gps-track="help_popup.click({ item_type:1
                                                })"&gt; </p>
                                            Tour </p>
                                        <p>&lt;span class="item-summary"&gt; </p>
                                        Start here for a quick overview of the site </p>
                                    <p>&lt;/span&gt; </p>
                                    <p>&lt;/a&gt; </p>
                                    <p>&lt;/li&gt; </p>
                                    <p>&lt;li&gt; </p>
                                    <p>&lt;a href="/help" class="js-gps-track" data-gps-track="help_popup.click({ item_type:4
                                        })"&gt; </p>
                                    Help Center </p>
                                <p>&lt;span class="item-summary"&gt; </p>
                                Detailed answers to any questions you might have </p>
                            <p>&lt;/span&gt; </p>
                            <p>&lt;/a&gt; </p>
                            <p>&lt;/li&gt; </p>
                            <p>&lt;/ul&gt; </p>
                            <p>&lt;/div&gt; </p>
                            <p>&lt;footer id="footer" class="s-footer js-footer" role="contentinfo"&gt; </p>
                            <p>&lt;nav class="-nav js-category" data-name="Other"&gt; </p>
                            <p>&lt;ul class="-list"&gt; </p>
                            <p>&lt;li class="-item"&gt;
                                <p>&lt;a class="-link js-gps-track" data-gps-track="footer.click({ location: 2, link: 25 })"
                                    title="meta-discussion of the Stack Exchange family of Q&amp;A websites"&gt;Meta Stack
                                    Exchange
                                    <p>&lt;/a&gt;
                                        <p>&lt;/li&gt; </p>
                                        <p>&lt;li class="-item"&gt;
                                            <p>&lt;a class="-link js-gps-track" data-gps-track="footer.click({ location: 2,
                                                link: 25 })" title="apps, scripts, and development with the Stack Exchange
                                                API"&gt;Stack Apps
                                                <p>&lt;/a&gt;
                                                    <p>&lt;/li&gt; </p>
                                                    <p>&lt;li class="-item"&gt;
                                                        <p>&lt;a class="-link js-gps-track" data-gps-track="footer.click({ location:
                                                            2, link: 25 })" title="programmatic interaction with Stack Exchange
                                                            sites"&gt;API
                                                            <p>&lt;/a&gt;
                                                                <p>&lt;/li&gt; </p>
                                                                <p>&lt;li class="-item"&gt;
                                                                    <p>&lt;a class="-link js-gps-track" data-gps-track="footer.click({
                                                                        location: 2, link: 25 })" title="querying Stack Exchange
                                                                        data using SQL"&gt;Data
                                                                        <p>&lt;/a&gt;
                                                                            <p>&lt;/li&gt; </p>
                                                                            <p>&lt;li class="-item"&gt;
                                                                                <p>&lt;a class="-link js-gps-track" data-gps-track="footer.click({
                                                                                    location: 2, link: 25 })" title="proposing
                                                                                    new sites in the Stack Exchange network"&gt;Area
                                                                                    51
                                                                                    <p>&lt;/a&gt;
                                                                                        <p>&lt;/li&gt; </p>
                                                                                        <p>&lt;/ul&gt; </p>
                                                                                        <p>&lt;/nav&gt; </p>
                                                                                        <p>&lt;/footer&gt; </p>
                                                                                        <p>&lt;/body&gt; </p>
                                                                                        <p>&lt;/html&gt; </p>
    </div>
    <div id='p2' class="line-1 anim-typewriter" style='position: absolute; color:white;z-index:0; direction:rtl;'>نصيغ الأفكار إلى أكواد... و الأكواد إلى أعمال... و الأعمال إلى نجاحات </div>
    
    <div id='transitionDiv' style="position:absolute;display: block;margin: -5px 8px 4px -8px"></div>

</body>
<script>
    // function devideContent
    function getPosition(itemSelector) {
        return $(itemSelector).position();
    }



    $('#btnRun').click(function () {
        /*
        1- split p1 into words list
        2- split p2 into words list
        3- for each word from p1 in p2 (1- put it in queue with new position, remove it from p2 list)
        */
        var p1 = $('#p1').text().split(' ');
        var p2 = $('#p2').text().split(' ');

        var p1html = '';
        $('#p1').html('');
        for (var i = 0; i < p1.length; i++) {
            var elmnt = "<span style='position:relative;' id='p1_" + i + "'> " + p1[i] + "</span>"
            $('#p1').append(elmnt);
        }

        var p2html = '';
        $('#p2').html('');
        for (var i = 0; i < p2.length; i++) {
            var elmnt = "<span style='position:relative;' id='p2_" + i + "'> " + p2[i] + "</span>"
            $('#p2').append(elmnt);
        }

        var intersect = [];
        for (var i = 0; i < p1.length; i++) {
            if (p1[i] !== '' && p2.indexOf(p1[i]) > -1) {
                intersect.push({ Word: p1[i], p1_id: '#p1_' + i, oldPosition: getPosition('#p1_' + i), newPosition: getPosition('#p2_' + p2.indexOf(p1[i])) });
                $('#p1_' + i).addClass('p2Included');

                //p2.splice(p2.indexOf(p1[i]), 1);
            } else {
                $('#p1_' + i).addClass('p2NotIncluded');
            }
        }
        //hide p1
        $('#p1').hide('slow');
        //create intersect words
        for (var i = 0; i < intersect.length; i++) {
            var elmnt = intersect[i];
            $('#transitionDiv').append('<span id="inter_' + i + '" data-newLeft="' + elmnt.newPosition.left + '" data-newTop="' + elmnt.newPosition.top + '"  style="font-weight:normal;position:absolute ;color:black;margin:12px; left:' + elmnt.oldPosition.left + 'px;top:' + elmnt.oldPosition.top + 'px">' + elmnt.Word + '</span>');
        }
        //animate intersect words to new positions
        for (var i = 0; i < intersect.length; i++) {
            $('#inter_' + i).animate({
                left: $('#inter_' + i).attr('data-newLeft'),
                top: $('#inter_' + i).attr('data-newTop'),
            }, 1000, function () {
                setTimeout(() => {
                   // $('#transitionDiv > span').remove();
                }, 500);
            });
        }
        //hide intersect words
        //show p2
        setTimeout(() => {
            $('#p2').animate({ color: 'black' }, 1000);
        }, 1000);

        console.log(intersect);
    });
</script>

</html>